webpackJsonp([3],{474:function(e,t,s){s(493);var a=s(0)(s(482),s(497),"data-v-e51f0578",null);e.exports=a.exports},482:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(2);t.default={data:function(){return{targetKeys1:this.getTargetKeys(),users:[],checkList:[],modules:"",checkAll:!1,isIndeterminate:!0,allcheckList:[],userChecked:"",userGroup:{name:""},active:!1}},created:function(){var e=this;this.getMockData(),this.$store.dispatch("getAuthorityList").then(function(t){e.modules=t.modules.rows;var s=e.modules;s=s.map(function(e){return e.actions});for(var a=0;a<s.length;a++)s[a]=s[a].map(function(e){return e.id}),e.allcheckList=e.allcheckList.concat(s[a])})},methods:{getMockData:function(){var e=this,t=[],s=[];this.$store.dispatch("getUsers").then(function(a){s=a.users.rows;for(var n=0;n<s.length;n++){s[n].id;t.push({key:s[n].id,label:s[n].displayName,description:"内容"+n+"的描述信息"})}e.users=t})},getTargetKeys:function(){},render1:function(e){return e.label},handleChange1:function(e,t,s){this.targetKeys1=e},handleCheckAllChange:function(e,t){this.checkList=e.target.checked?this.allcheckList:[],this.isIndeterminate=!1},createUserRole:function(){var e=this,t=this.userGroup.name,s=this.targetKeys1.join(","),a=this.checkList.join(","),n={name:t,users:s,actions:a};this.$store.dispatch("createUserRole",{userRoleForm:n}).then(function(t){e.$message({message:"保存成功",type:"success"})}).then(location.href="#/home/workplat/actionList")}}}},489:function(e,t,s){t=e.exports=s(472)(),t.push([e.i,".list[data-v-e51f0578]{list-style:none;margin:15px 0}ul[data-v-e51f0578]{margin:0;padding:0}","",{version:3,sources:["/Users/eytan/Desktop/project/hulk-erp-client/src/components/authority/userAction.vue"],names:[],mappings:"AACA,uBACI,gBAAiB,AACjB,aAAe,CAClB,AACD,oBACI,SAAS,AACT,SAAU,CACb",file:"userAction.vue",sourcesContent:["\n.list[data-v-e51f0578]{\n    list-style: none;\n    margin: 15px 0;\n}\nul[data-v-e51f0578] {\n    margin:0;\n    padding: 0\n}\n"],sourceRoot:""}])},493:function(e,t,s){var a=s(489);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(473)("e3ec835a",a,!0)},497:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",loading:e.active},on:{click:e.createUserRole}},[e._v("保存")]),e._v(" "),s("el-tag",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"}},[e._v("权限组名称")]),e._v(" "),s("div",{staticClass:"userGroup"},[s("el-form",{staticClass:"demo-dynamic",attrs:{inline:!0,model:e.userGroup}},[s("el-form-item",[s("el-input",{model:{value:e.userGroup.name,callback:function(t){e.userGroup.name=t},expression:"userGroup.name"}})],1)],1)],1),e._v(" "),s("el-tag",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"}},[e._v("选择用户")]),e._v(" "),s("Transfer",{attrs:{data:e.users,"target-keys":e.targetKeys1},on:{"on-change":e.handleChange1}}),e._v(" "),s("el-tag",{staticStyle:{margin:"10px 0"},attrs:{type:"primary"}},[e._v("分配权限")]),e._v(" "),s("div",{staticClass:"checkList"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),s("ul",e._l(e.modules,function(t){return s("li",{staticClass:"list"},[s("el-row",{attrs:{span:24}},[s("el-col",{attrs:{span:2}},[s("el-tag",[e._v(e._s(t.des))])],1),e._v(" "),s("el-col",{attrs:{span:22}},[s("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(t.actions,function(t){return s("el-checkbox",{key:t.id,staticStyle:{margin:"3px"},attrs:{label:t.id}},[e._v(e._s(t.des))])}))],1)],1)],1)}))],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.0b3148b8fe5f63c0d981.js.map